---
title: 栈
date: 2021-08-26 23:06:00
updated: 2021-08-26 23:06:00
id: ml-20210815-015000-g154
categories:
	- 数据结构
tags: 
	- 数据结构
---

只有一个口, 既是入口也是出口.  

可以用于快速获取一系列数据的点到.  
或是用于两两匹配.  
栈对于计算机天然有性能优势.

<!--more-->

对于一组括号`{[()]}`, 使用栈可以在O(n)时间内匹配完成

对于算式`1+(6+2)X3`  
此时的算式为`中缀表达式`也就是符号在中间,数据在两侧.  
我们将其转化为后缀表达式`162+3X+`,即符号在后,算数在前两个  

如何进行这个转化呢  
1. 所有数字入栈
2. 优先级高于栈内的入栈(或栈空), 否则从栈中弹出所有优先级更高或一样的运算符(或直到括号). 再将当前入栈  
3. 所有左括号入栈
4. 如果栈内有左括号,所有运算符入栈
5. 如果遇到右括号,不断出栈,直到左括号(括号最终被消除,不输出)


例子:  

1. 栈内
	* 栈外`+(6+2)X3`
	* 输出`1`
2. 栈内`+`
	* 栈外`(6+2)X3`
	* 输出`1`
3. 栈内`+(`
	* 栈外`6+2)X3`
	* 输出`1`
4. 栈内`+(`
	* 栈外`+2)X3`
	* 输出`16`
5. 栈内`+(+`
	* 栈外`2)X3`
	* 输出`16`
6. 栈内`+(+`
	* 栈外`)X3`
	* 输出`162`
7. 栈内`+(+`
	* 栈外`)X3`
	* 输出`162`
8. 栈内`+(`
	* 栈外`)X3`
	* 输出`162+`
9. 栈内`+`
	* 栈外`X3`
	* 输出`162+`
10. 栈内`+x`
	* 栈外`3`
	* 输出`162+`
11. 栈内`+x`
	* 栈外``
	* 输出`162+3`
12. 栈内`+`
	* 栈外``
	* 输出`162+3X`
13. 栈内``
	* 栈外``
	* 输出`162+3X+`

*如此便得到后缀表达式*

运算是也用到栈  

1. 凡是数字就入栈
2. 凡是运算符就出栈两次并计算
3. 将运算结果压栈

> 开始运算

1. 栈内``
	* 栈外`162+3X+`
1. 栈内`1`
	* 栈外`62+3X+`
1. 栈内`16`
	* 栈外`2+3X+`
1. 栈内`162`
	* 栈外`+3X+`
1. 栈内`1`
	* 栈外`3X+`
    * 计算区`6+2 = 8`
1. 栈内`183`
	* 栈外`X+`
1. 栈内`1`
	* 栈外`+`
    * 计算区`8*3 = 24`
1. 栈内``
	* 栈外``
    * 计算区`24+1 = 25`

最终得出结果`25`

# 完毕

**感谢您的观看!**  
本文来自 [ML-Blog][ML-Blog_Link]

<!-- 图片 -->

<!-- 链接 -->

<!-- 水印 -->
[ML-Blog_Link]:https://userminghaoli.github.io/ "我的博客"
